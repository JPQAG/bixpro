{"ast":null,"code":"import _objectSpread from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectWithoutProperties from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from'react';import{Row,Col,Button,Alert}from'react-bootstrap';import*as Yup from'yup';import{Formik}from'formik';import useAuth from'../../../hooks/useAuth';import useScriptRef from'../../../hooks/useScriptRef';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FirebaseLogin=function FirebaseLogin(_ref){var className=_ref.className,rest=_objectWithoutProperties(_ref,[\"className\"]);var scriptedRef=useScriptRef();var _useAuth=useAuth(),firebaseEmailPasswordSignIn=_useAuth.firebaseEmailPasswordSignIn,firebaseGoogleSignIn=_useAuth.firebaseGoogleSignIn;var googleHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return firebaseGoogleSignIn();case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function googleHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Formik,{initialValues:{email:'demo@gmail.com',password:'123456',submit:null},validationSchema:Yup.object().shape({email:Yup.string().email('Must be a valid email').max(255).required('Email is required'),password:Yup.string().max(255).required('Password is required')}),onSubmit:/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values,_ref3){var setErrors,setStatus,setSubmitting;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setErrors=_ref3.setErrors,setStatus=_ref3.setStatus,setSubmitting=_ref3.setSubmitting;_context2.prev=1;_context2.next=4;return firebaseEmailPasswordSignIn(values.email,values.password);case 4:if(scriptedRef.current){setStatus({success:true});setSubmitting(true);}_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);if(scriptedRef.current){setStatus({success:false});setErrors({submit:_context2.t0.message});setSubmitting(false);}case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,7]]);}));return function(_x,_x2){return _ref4.apply(this,arguments);};}(),children:function children(_ref5){var errors=_ref5.errors,handleBlur=_ref5.handleBlur,handleChange=_ref5.handleChange,handleSubmit=_ref5.handleSubmit,isSubmitting=_ref5.isSubmitting,touched=_ref5.touched,values=_ref5.values;return/*#__PURE__*/_jsxs(\"form\",_objectSpread(_objectSpread({noValidate:true,onSubmit:handleSubmit,className:className},rest),{},{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",error:touched.email&&errors.email,label:\"Email Address / Username\",name:\"email\",onBlur:handleBlur,onChange:handleChange,type:\"email\",value:values.email}),touched.email&&errors.email&&/*#__PURE__*/_jsx(\"small\",{class:\"text-danger form-text\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",error:touched.password&&errors.password,label:\"Password\",name:\"password\",onBlur:handleBlur,onChange:handleChange,type:\"password\",value:values.password}),touched.password&&errors.password&&/*#__PURE__*/_jsx(\"small\",{class:\"text-danger form-text\",children:errors.password})]}),errors.submit&&/*#__PURE__*/_jsx(Col,{sm:12,children:/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:errors.submit})}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-checkbox  text-left mb-4 mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck1\"}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-control-label\",htmlFor:\"customCheck1\",children:\"Save credentials.\"})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{mt:2,children:/*#__PURE__*/_jsx(Button,{className:\"btn-block\",color:\"primary\",disabled:isSubmitting,size:\"large\",type:\"submit\",variant:\"primary\",children:\"Signin\"})})})]}));}}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{sm:12,children:/*#__PURE__*/_jsx(\"h5\",{className:\"my-3\",children:\" OR \"})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{sm:12,children:/*#__PURE__*/_jsxs(Button,{onClick:googleHandler,variant:\"danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-lock\"}),\" Sign in with Google\"]})})}),/*#__PURE__*/_jsx(\"hr\",{})]});};export default FirebaseLogin;","map":{"version":3,"sources":["C:/Users/James Price/Documents/VS Code/bixpro/src/views/auth/signin/FirebaseLogin.js"],"names":["React","Row","Col","Button","Alert","Yup","Formik","useAuth","useScriptRef","FirebaseLogin","className","rest","scriptedRef","firebaseEmailPasswordSignIn","firebaseGoogleSignIn","googleHandler","console","error","email","password","submit","object","shape","string","max","required","values","setErrors","setStatus","setSubmitting","current","success","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Row, Col, Button, Alert } from 'react-bootstrap';\r\n\r\nimport * as Yup from 'yup';\r\nimport { Formik } from 'formik';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport useScriptRef from '../../../hooks/useScriptRef';\r\n\r\nconst FirebaseLogin = ({ className, ...rest }) => {\r\n  const scriptedRef = useScriptRef();\r\n\r\n  const { firebaseEmailPasswordSignIn, firebaseGoogleSignIn } = useAuth();\r\n\r\n  const googleHandler = async () => {\r\n    try {\r\n      await firebaseGoogleSignIn();\r\n    } catch(err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Formik\r\n        initialValues={{\r\n          email: 'demo@gmail.com',\r\n          password: '123456',\r\n          submit: null\r\n        }}\r\n        validationSchema={Yup.object().shape({\r\n          email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\r\n          password: Yup.string().max(255).required('Password is required')\r\n        })}\r\n        onSubmit={async (values, {\r\n          setErrors,\r\n          setStatus,\r\n          setSubmitting\r\n        }) => {\r\n          try {\r\n            await firebaseEmailPasswordSignIn(values.email, values.password);\r\n\r\n            if (scriptedRef.current) {\r\n              setStatus({ success: true });\r\n              setSubmitting(true);\r\n            }\r\n          } catch (err) {\r\n            console.error(err);\r\n            if (scriptedRef.current) {\r\n              setStatus({ success: false });\r\n              setErrors({ submit: err.message });\r\n              setSubmitting(false);\r\n            }\r\n          }\r\n        }}\r\n      >\r\n        {({\r\n          errors,\r\n          handleBlur,\r\n          handleChange,\r\n          handleSubmit,\r\n          isSubmitting,\r\n          touched,\r\n          values\r\n        }) => (\r\n          <form\r\n            noValidate\r\n            onSubmit={handleSubmit}\r\n            className={className}\r\n            {...rest}\r\n          >\r\n\r\n            <div className=\"form-group mb-3\">\r\n              <input\r\n                className=\"form-control\"\r\n                error={touched.email && errors.email}\r\n                label=\"Email Address / Username\"\r\n                name=\"email\"\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                type=\"email\"\r\n                value={values.email}\r\n              />\r\n              {touched.email && errors.email && (                 \r\n                <small class=\"text-danger form-text\">{errors.email}</small>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group mb-4\">\r\n              <input\r\n                className=\"form-control\"\r\n                error={touched.password && errors.password}\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                type=\"password\"\r\n                value={values.password}\r\n              />\r\n              {touched.password && errors.password && (                 \r\n                <small class=\"text-danger form-text\">{errors.password}</small>\r\n              )}\r\n            </div>\r\n\r\n            {errors.submit && ( \r\n                <Col sm={12}>\r\n                    <Alert variant='danger'>{errors.submit}</Alert>\r\n                </Col>\r\n            )}           \r\n\r\n            <div className=\"custom-control custom-checkbox  text-left mb-4 mt-2\">\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\"/>\r\n                <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Save credentials.</label>\r\n            </div>\r\n            \r\n            <Row>\r\n              <Col mt={2}>\r\n                <Button\r\n                  className=\"btn-block\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  size=\"large\"\r\n                  type=\"submit\"\r\n                  variant=\"primary\"\r\n                >\r\n                  Signin\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n\r\n      <Row>\r\n        <Col sm={12}>\r\n          <h5 className='my-3'> OR </h5>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col sm={12}>\r\n          <Button onClick={googleHandler} variant=\"danger\">\r\n              <i className='fa fa-lock' /> Sign in with Google\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      <hr/>\r\n\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default FirebaseLogin;\r\n"]},"metadata":{},"sourceType":"module"}