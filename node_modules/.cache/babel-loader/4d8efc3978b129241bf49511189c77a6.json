{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createRef,useState,useEffect}from'react';import{Row,Col,Button,Form}from'react-bootstrap';import{ValidationForm,TextInputGroup}from'react-bootstrap4-form-validation';import{Link}from'react-router-dom';import axios from'../../utils/axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BasicToDo=function BasicToDo(props){var formRef=/*#__PURE__*/createRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newNote=_useState2[0],setNewNote=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),basicTodo=_useState4[0],setBasicTodo=_useState4[1];var _ref=props.todoList?props:[],todoList=_ref.todoList;useEffect(function(){setBasicTodo(todoList);},[todoList]);var completeHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,key){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/api/todo/basic/complete',{key:key,complete:e.target.checked}).then(function(response){setBasicTodo(response.data.basicTodo);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function completeHandler(_x,_x2){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(e){setNewNote(e.target.value);};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e,formData,inputs){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return axios.post('/api/todo/basic/add',{note:newNote}).then(function(response){resetForm();setBasicTodo(response.data.basicTodo);setNewNote('');});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x3,_x4,_x5){return _ref3.apply(this,arguments);};}();var resetForm=function resetForm(){formRef.current.resetValidationState(true);};var handleErrorSubmit=function handleErrorSubmit(e,formData,errorInputs){//console.log(errorInputs);\n};var deleteHandler=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post('/api/todo/basic/delete',{key:key}).then(function(response){setBasicTodo(response.data.basicTodo);});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteHandler(_x6){return _ref4.apply(this,arguments);};}();var todoListHTML=basicTodo.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"to-do-list mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-inline-block\",children:/*#__PURE__*/_jsxs(\"label\",{className:[item.complete?'done-task':'','check-task custom-control custom-checkbox d-flex justify-content-center'].join(' '),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck2\",defaultChecked:item.complete,onChange:function onChange(e){return completeHandler(e,index);}}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-control-label\",children:item.note})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"delete_todolist\",onClick:function onClick(){return deleteHandler(index);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash-alt\"})})})]})},index);});return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(ValidationForm,{ref:formRef,onSubmit:handleSubmit,onErrorSubmit:handleErrorSubmit,children:/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsx(Form.Group,{as:Col,children:/*#__PURE__*/_jsx(TextInputGroup,{name:\"newNote\",id:\"newNote\",placeholder:\"Create your task list\",required:true,append:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"secondary\",className:\"btn-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})}),value:newNote,onChange:handleChange,autoComplete:\"off\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"new-task\",children:todoListHTML})]})})});};export default BasicToDo;","map":{"version":3,"sources":["C:/Users/James Price/Documents/VS Code/bixpro/src/components/To-Do/BasicToDo.js"],"names":["React","createRef","useState","useEffect","Row","Col","Button","Form","ValidationForm","TextInputGroup","Link","axios","BasicToDo","props","formRef","newNote","setNewNote","basicTodo","setBasicTodo","todoList","completeHandler","e","key","post","complete","target","checked","then","response","data","handleChange","value","handleSubmit","formData","inputs","preventDefault","note","resetForm","current","resetValidationState","handleErrorSubmit","errorInputs","deleteHandler","todoListHTML","map","item","index","join"],"mappings":"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","sourcesContent":["import React, { createRef, useState, useEffect } from 'react';\r\nimport { Row, Col, Button, Form } from 'react-bootstrap';\r\nimport { ValidationForm, TextInputGroup } from 'react-bootstrap4-form-validation';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from '../../utils/axios';\r\n\r\nconst BasicToDo = props => {\r\n    const formRef = createRef();\r\n    const [newNote, setNewNote] = useState('');\r\n    const [basicTodo, setBasicTodo] = useState([]);\r\n\r\n    const { todoList } = (props.todoList) ? props : [];\r\n\r\n    useEffect(() => {\r\n        setBasicTodo(todoList);\r\n    }, [todoList]);\r\n\r\n    const completeHandler = async (e, key) => {\r\n        await axios.post('/api/todo/basic/complete', {\r\n            key: key,\r\n            complete: e.target.checked\r\n        }).then(response => {\r\n            setBasicTodo(response.data.basicTodo);\r\n        });\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setNewNote(e.target.value);\r\n    };\r\n\r\n    const handleSubmit = async (e, formData, inputs) => {\r\n        e.preventDefault();\r\n\r\n        await axios.post('/api/todo/basic/add', {\r\n            note: newNote\r\n        }).then(response => {\r\n            resetForm();\r\n            setBasicTodo(response.data.basicTodo);\r\n            setNewNote('');\r\n        });\r\n    };\r\n\r\n    const resetForm = () => {\r\n        (formRef.current).resetValidationState(true);\r\n    };\r\n\r\n    const handleErrorSubmit = (e, formData, errorInputs) => {\r\n        //console.log(errorInputs);\r\n    };\r\n\r\n    const deleteHandler = async key => {\r\n        await axios.post('/api/todo/basic/delete', {\r\n            key: key\r\n        }).then(response => {\r\n            setBasicTodo(response.data.basicTodo);\r\n        });\r\n    };\r\n\r\n    const todoListHTML = basicTodo.map((item, index) => {\r\n        return (\r\n            <div key={index}>\r\n                <div className=\"to-do-list mb-3\">\r\n                    <div className=\"d-inline-block\">\r\n                        <label className={[item.complete ? 'done-task' : '', 'check-task custom-control custom-checkbox d-flex justify-content-center'].join(' ')} >\r\n                            <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck2\" defaultChecked={item.complete} onChange={(e) => completeHandler(e, index)} />\r\n                                <span className=\"custom-control-label\">{item.note}</span>\r\n                        </label>\r\n                    </div>\r\n                    <div className=\"float-right\"><Link to='#' className=\"delete_todolist\" onClick={() => deleteHandler(index)}><i className=\"fa fa-trash-alt\"/></Link></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Row>\r\n                <Col>\r\n                    <ValidationForm ref={formRef} onSubmit={handleSubmit} onErrorSubmit={handleErrorSubmit}>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col}>\r\n                                <TextInputGroup\r\n                                    name=\"newNote\"\r\n                                    id=\"newNote\"\r\n                                    placeholder=\"Create your task list\"\r\n                                    required\r\n                                    append={<Button type=\"submit\" variant=\"secondary\" className='btn-icon'><i className=\"fa fa-plus\"/></Button>}\r\n                                    value={newNote}\r\n                                    onChange={handleChange}\r\n                                    autoComplete=\"off\"\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </ValidationForm>\r\n                    <div className=\"new-task\">\r\n                        {todoListHTML}\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </React.Fragment>\r\n    );\r\n}\r\nexport default BasicToDo;"]},"metadata":{},"sourceType":"module"}