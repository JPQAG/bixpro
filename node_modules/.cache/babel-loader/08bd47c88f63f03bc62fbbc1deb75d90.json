{"ast":null,"code":"'use strict'; //  ---------------------------------------------------------------------------\n\nconst Exchange = require('./base/Exchange');\n\nconst {\n  ArgumentsRequired\n} = require('./base/errors');\n\nconst Precise = require('./base/Precise'); //  ---------------------------------------------------------------------------\n\n\nmodule.exports = class southxchange extends Exchange {\n  describe() {\n    return this.deepExtend(super.describe(), {\n      'id': 'southxchange',\n      'name': 'SouthXchange',\n      'countries': ['AR'],\n      // Argentina\n      'rateLimit': 1000,\n      'has': {\n        'cancelOrder': true,\n        'CORS': true,\n        'createDepositAddress': true,\n        'createOrder': true,\n        'fetchBalance': true,\n        'fetchDeposits': true,\n        'fetchLedger': true,\n        'fetchMarkets': true,\n        'fetchOpenOrders': true,\n        'fetchOrderBook': true,\n        'fetchTicker': true,\n        'fetchTickers': true,\n        'fetchTrades': true,\n        'fetchTransactions': true,\n        'fetchWithdrawals': true,\n        'withdraw': true\n      },\n      'urls': {\n        'logo': 'https://user-images.githubusercontent.com/1294454/27838912-4f94ec8a-60f6-11e7-9e5d-bbf9bd50a559.jpg',\n        'api': 'https://www.southxchange.com/api',\n        'www': 'https://www.southxchange.com',\n        'doc': 'https://www.southxchange.com/Home/Api'\n      },\n      'api': {\n        'public': {\n          'get': ['markets', 'price/{symbol}', 'prices', 'book/{symbol}', 'trades/{symbol}']\n        },\n        'private': {\n          'post': ['cancelMarketOrders', 'cancelOrder', 'getOrder', 'generatenewaddress', 'listOrders', 'listBalances', 'listTransactions', 'placeOrder', 'withdraw']\n        }\n      },\n      'fees': {\n        'trading': {\n          'tierBased': false,\n          'percentage': true,\n          'maker': 0.1 / 100,\n          'taker': 0.3 / 100\n        }\n      },\n      'commonCurrencies': {\n        'BHD': 'Bithold',\n        'GHOST': 'GHOSTPRISM',\n        'MTC': 'Marinecoin',\n        'SMT': 'SmartNode'\n      }\n    });\n  }\n\n  async fetchMarkets(params = {}) {\n    const markets = await this.publicGetMarkets(params);\n    const result = [];\n\n    for (let i = 0; i < markets.length; i++) {\n      const market = markets[i];\n      const baseId = market[0];\n      const quoteId = market[1];\n      const base = this.safeCurrencyCode(baseId);\n      const quote = this.safeCurrencyCode(quoteId);\n      const symbol = base + '/' + quote;\n      const id = baseId + '/' + quoteId;\n      result.push({\n        'id': id,\n        'symbol': symbol,\n        'base': base,\n        'quote': quote,\n        'baseId': baseId,\n        'quoteId': quoteId,\n        'active': undefined,\n        'info': market,\n        'precision': this.precision,\n        'limits': this.limits\n      });\n    }\n\n    return result;\n  }\n\n  async fetchBalance(params = {}) {\n    await this.loadMarkets();\n    const response = await this.privatePostListBalances(params);\n    const result = {\n      'info': response\n    };\n\n    for (let i = 0; i < response.length; i++) {\n      const balance = response[i];\n      const currencyId = this.safeString(balance, 'Currency');\n      const code = this.safeCurrencyCode(currencyId);\n      const deposited = this.safeString(balance, 'Deposited');\n      const unconfirmed = this.safeString(balance, 'Unconfirmed');\n      const account = this.account();\n      account['free'] = this.safeString(balance, 'Available');\n      account['total'] = Precise.stringAdd(deposited, unconfirmed);\n      result[code] = account;\n    }\n\n    return this.parseBalance(result, false);\n  }\n\n  async fetchOrderBook(symbol, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {\n      'symbol': this.marketId(symbol)\n    };\n    const response = await this.publicGetBookSymbol(this.extend(request, params));\n    return this.parseOrderBook(response, symbol, undefined, 'BuyOrders', 'SellOrders', 'Price', 'Amount');\n  }\n\n  parseTicker(ticker, market = undefined) {\n    const timestamp = this.milliseconds();\n    let symbol = undefined;\n\n    if (market) {\n      symbol = market['symbol'];\n    }\n\n    const last = this.safeNumber(ticker, 'Last');\n    return {\n      'symbol': symbol,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'high': undefined,\n      'low': undefined,\n      'bid': this.safeNumber(ticker, 'Bid'),\n      'bidVolume': undefined,\n      'ask': this.safeNumber(ticker, 'Ask'),\n      'askVolume': undefined,\n      'vwap': undefined,\n      'open': undefined,\n      'close': last,\n      'last': last,\n      'previousClose': undefined,\n      'change': undefined,\n      'percentage': this.safeNumber(ticker, 'Variation24Hr'),\n      'average': undefined,\n      'baseVolume': this.safeNumber(ticker, 'Volume24Hr'),\n      'quoteVolume': undefined,\n      'info': ticker\n    };\n  }\n\n  async fetchTickers(symbols = undefined, params = {}) {\n    await this.loadMarkets();\n    const response = await this.publicGetPrices(params);\n    const tickers = this.indexBy(response, 'Market');\n    const ids = Object.keys(tickers);\n    const result = {};\n\n    for (let i = 0; i < ids.length; i++) {\n      const id = ids[i];\n      const market = this.safeMarket(id);\n      const symbol = market['symbol'];\n      const ticker = tickers[id];\n      result[symbol] = this.parseTicker(ticker, market);\n    }\n\n    return this.filterByArray(result, 'symbol', symbols);\n  }\n\n  async fetchTicker(symbol, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'symbol': market['id']\n    };\n    const response = await this.publicGetPriceSymbol(this.extend(request, params));\n    return this.parseTicker(response, market);\n  }\n\n  parseTrade(trade, market) {\n    const timestamp = this.safeTimestamp(trade, 'At');\n    const priceString = this.safeString(trade, 'Price');\n    const amountString = this.safeString(trade, 'Amount');\n    const price = this.parseNumber(priceString);\n    const amount = this.parseNumber(amountString);\n    const cost = this.parseNumber(Precise.stringMul(priceString, amountString));\n    const side = this.safeString(trade, 'Type');\n    let symbol = undefined;\n\n    if (market !== undefined) {\n      symbol = market['symbol'];\n    }\n\n    return {\n      'info': trade,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'symbol': symbol,\n      'id': undefined,\n      'order': undefined,\n      'type': undefined,\n      'side': side,\n      'price': price,\n      'takerOrMaker': undefined,\n      'amount': amount,\n      'cost': cost,\n      'fee': undefined\n    };\n  }\n\n  async fetchTrades(symbol, since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'symbol': market['id']\n    };\n    const response = await this.publicGetTradesSymbol(this.extend(request, params));\n    return this.parseTrades(response, market, since, limit);\n  }\n\n  parseOrder(order, market = undefined) {\n    const status = 'open';\n    const baseId = this.safeString(order, 'ListingCurrency');\n    const quoteId = this.safeString(order, 'ReferenceCurrency');\n    const base = this.safeCurrencyCode(baseId);\n    const quote = this.safeCurrencyCode(quoteId);\n    const symbol = base + '/' + quote;\n    const timestamp = undefined;\n    const price = this.safeNumber(order, 'LimitPrice');\n    const amount = this.safeNumber(order, 'OriginalAmount');\n    const remaining = this.safeNumber(order, 'Amount');\n    const type = 'limit';\n    const side = this.safeStringLower(order, 'Type');\n    const id = this.safeString(order, 'Code');\n    return this.safeOrder({\n      'info': order,\n      'id': id,\n      'clientOrderId': undefined,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'lastTradeTimestamp': undefined,\n      'symbol': symbol,\n      'type': type,\n      'timeInForce': undefined,\n      'postOnly': undefined,\n      'side': side,\n      'price': price,\n      'stopPrice': undefined,\n      'amount': amount,\n      'cost': undefined,\n      'filled': undefined,\n      'remaining': remaining,\n      'status': status,\n      'fee': undefined,\n      'average': undefined,\n      'trades': undefined\n    });\n  }\n\n  async fetchOpenOrders(symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    let market = undefined;\n\n    if (symbol !== undefined) {\n      market = this.market(symbol);\n    }\n\n    const response = await this.privatePostListOrders(params);\n    return this.parseOrders(response, market, since, limit);\n  }\n\n  async createOrder(symbol, type, side, amount, price = undefined, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'listingCurrency': market['base'],\n      'referenceCurrency': market['quote'],\n      'type': side,\n      'amount': amount\n    };\n\n    if (type === 'limit') {\n      request['limitPrice'] = price;\n    }\n\n    const response = await this.privatePostPlaceOrder(this.extend(request, params));\n    const id = JSON.parse(response);\n    return {\n      'info': response,\n      'id': id\n    };\n  }\n\n  async cancelOrder(id, symbol = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {\n      'orderCode': id\n    };\n    return await this.privatePostCancelOrder(this.extend(request, params));\n  }\n\n  async createDepositAddress(code, params = {}) {\n    await this.loadMarkets();\n    const currency = this.currency(code);\n    const request = {\n      'currency': currency['id']\n    };\n    const response = await this.privatePostGeneratenewaddress(this.extend(request, params)); //\n    // the exchange API returns a quoted-quoted-string\n    //\n    //     \"\\\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\\\"\"\n    //\n\n    let address = response;\n\n    if (address[0] === '\"') {\n      address = JSON.parse(address);\n\n      if (address[0] === '\"') {\n        address = JSON.parse(address);\n      }\n    }\n\n    const parts = address.split('|');\n    const numParts = parts.length;\n    address = parts[0];\n    this.checkAddress(address);\n    let tag = undefined;\n\n    if (numParts > 1) {\n      tag = parts[1];\n    }\n\n    return {\n      'currency': code,\n      'address': address,\n      'tag': tag,\n      'info': response\n    };\n  }\n\n  async withdraw(code, amount, address, tag = undefined, params = {}) {\n    this.checkAddress(address);\n    await this.loadMarkets();\n    const currency = this.currency(code);\n    const request = {\n      'currency': currency['id'],\n      'address': address,\n      'amount': amount\n    };\n\n    if (tag !== undefined) {\n      request['address'] = address + '|' + tag;\n    }\n\n    const response = await this.privatePostWithdraw(this.extend(request, params));\n    return {\n      'info': response,\n      'id': undefined\n    };\n  }\n\n  parseLedgerEntryType(type) {\n    const types = {\n      'trade': 'trade',\n      'tradefee': 'fee',\n      'withdraw': 'transaction',\n      'deposit': 'transaction'\n    };\n    return this.safeString(types, type, type);\n  }\n\n  parseLedgerEntry(item, currency = undefined) {\n    //\n    //     {\n    //         \"Date\":\"2020-08-07T12:36:52.72\",\n    //         \"CurrencyCode\":\"USDT\",\n    //         \"Amount\":27.614678000000000000,\n    //         \"TotalBalance\":27.614678000000000000,\n    //         \"Type\":\"deposit\",\n    //         \"Status\":\"confirmed\",\n    //         \"Address\":\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\",\n    //         \"Hash\":\"0x1809f1950c51a2f64fd2c4a27d4b06450fd249883fd91c852b79a99a124837f3\",\n    //         \"Price\":0.0,\n    //         \"OtherAmount\":0.0,\n    //         \"OtherCurrency\":null,\n    //         \"OrderCode\":null,\n    //         \"TradeId\":null,\n    //         \"MovementId\":2732259\n    //     }\n    //\n    const id = this.safeString(item, 'MovementId');\n    let direction = undefined;\n    const account = undefined;\n    let referenceId = this.safeString2(item, 'TradeId', 'OrderCode');\n    referenceId = this.safeString(item, 'Hash', referenceId);\n    const referenceAccount = this.safeString(item, 'Address');\n    const type = this.safeString(item, 'Type');\n    const ledgerEntryType = this.parseLedgerEntryType(type);\n    const code = this.safeCurrencyCode(this.safeString(item, 'CurrencyCode'), currency);\n    let amount = this.safeNumber(item, 'Amount');\n    const after = this.safeNumber(item, 'TotalBalance');\n    let before = undefined;\n\n    if (amount !== undefined) {\n      if (after !== undefined) {\n        before = after - amount;\n      }\n\n      if (type === 'withdrawal') {\n        direction = 'out';\n      } else if (type === 'deposit') {\n        direction = 'in';\n      } else if (type === 'trade' || type === 'tradefee') {\n        direction = amount < 0 ? 'out' : 'in';\n        amount = Math.abs(amount);\n      }\n    }\n\n    const timestamp = this.parse8601(this.safeString(item, 'Date'));\n    const fee = undefined;\n    const status = this.safeString(item, 'Status');\n    return {\n      'info': item,\n      'id': id,\n      'direction': direction,\n      'account': account,\n      'referenceId': referenceId,\n      'referenceAccount': referenceAccount,\n      'type': ledgerEntryType,\n      'currency': code,\n      'amount': amount,\n      'before': before,\n      'after': after,\n      'status': status,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'fee': fee\n    };\n  }\n\n  async fetchLedger(code = undefined, since = undefined, limit = undefined, params = {}) {\n    if (code === undefined) {\n      throw new ArgumentsRequired(this.id + ' fetchLedger() requires a code argument');\n    }\n\n    await this.loadMarkets();\n    const currency = this.currency(code);\n    limit = limit === undefined ? 50 : limit;\n    const request = {\n      'Currency': currency['id'],\n      // 'TransactionType': 'transactions', // deposits, withdrawals, depositswithdrawals, transactions\n      // 'PageIndex': 0,\n      'PageSize': limit,\n      // max 50\n      'SortField': 'Date' // 'Descending': true,\n\n    };\n    const pageIndex = this.safeInteger(params, 'PageIndex');\n\n    if (pageIndex === undefined) {\n      request['Descending'] = true;\n    }\n\n    const response = await this.privatePostListTransactions(this.extend(request, params)); //\n    // fetchLedger ('BTC')\n    //\n    //     {\n    //         \"TotalElements\":2,\n    //         \"Result\":[\n    //             {\n    //                 \"Date\":\"2020-08-07T13:06:22.117\",\n    //                 \"CurrencyCode\":\"BTC\",\n    //                 \"Amount\":-0.000000301000000000,\n    //                 \"TotalBalance\":0.000100099000000000,\n    //                 \"Type\":\"tradefee\",\n    //                 \"Status\":\"confirmed\",\n    //                 \"Address\":null,\n    //                 \"Hash\":null,\n    //                 \"Price\":0.0,\n    //                 \"OtherAmount\":0.0,\n    //                 \"OtherCurrency\":null,\n    //                 \"OrderCode\":null,\n    //                 \"TradeId\":5298215,\n    //                 \"MovementId\":null\n    //             },\n    //             {\n    //                 \"Date\":\"2020-08-07T13:06:22.117\",\n    //                 \"CurrencyCode\":\"BTC\",\n    //                 \"Amount\":0.000100400000000000,\n    //                 \"TotalBalance\":0.000100400000000000,\n    //                 \"Type\":\"trade\",\n    //                 \"Status\":\"confirmed\",\n    //                 \"Address\":null,\n    //                 \"Hash\":null,\n    //                 \"Price\":11811.474849000000000000,\n    //                 \"OtherAmount\":1.185872,\n    //                 \"OtherCurrency\":\"USDT\",\n    //                 \"OrderCode\":\"78389610\",\n    //                 \"TradeId\":5298215,\n    //                 \"MovementId\":null\n    //             }\n    //         ]\n    //     }\n    //\n    // fetchLedger ('BTC'), same trade, other side\n    //\n    //     {\n    //         \"TotalElements\":2,\n    //         \"Result\":[\n    //             {\n    //                 \"Date\":\"2020-08-07T13:06:22.133\",\n    //                 \"CurrencyCode\":\"USDT\",\n    //                 \"Amount\":-1.185872000000000000,\n    //                 \"TotalBalance\":26.428806000000000000,\n    //                 \"Type\":\"trade\",\n    //                 \"Status\":\"confirmed\",\n    //                 \"Address\":null,\n    //                 \"Hash\":null,\n    //                 \"Price\":11811.474849000000000000,\n    //                 \"OtherAmount\":0.000100400,\n    //                 \"OtherCurrency\":\"BTC\",\n    //                 \"OrderCode\":\"78389610\",\n    //                 \"TradeId\":5298215,\n    //                 \"MovementId\":null\n    //             },\n    //             {\n    //                 \"Date\":\"2020-08-07T12:36:52.72\",\n    //                 \"CurrencyCode\":\"USDT\",\n    //                 \"Amount\":27.614678000000000000,\n    //                 \"TotalBalance\":27.614678000000000000,\n    //                 \"Type\":\"deposit\",\n    //                 \"Status\":\"confirmed\",\n    //                 \"Address\":\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\",\n    //                 \"Hash\":\"0x1809f1950c51a2f64fd2c4a27d4b06450fd249883fd91c852b79a99a124837f3\",\n    //                 \"Price\":0.0,\n    //                 \"OtherAmount\":0.0,\n    //                 \"OtherCurrency\":null,\n    //                 \"OrderCode\":null,\n    //                 \"TradeId\":null,\n    //                 \"MovementId\":2732259\n    //             }\n    //         ]\n    //     }\n    //\n\n    const result = this.safeValue(response, 'Result', []);\n    return this.parseLedger(result, currency, since, limit);\n  }\n\n  parseTransactionStatus(status) {\n    const statuses = {\n      'pending': 'pending',\n      'processed': 'pending',\n      'confirmed': 'ok'\n    };\n    return this.safeString(statuses, status, status);\n  }\n\n  parseTransaction(transaction, currency = undefined) {\n    //\n    //     {\n    //         \"Date\":\"2020-08-07T12:36:52.72\",\n    //         \"CurrencyCode\":\"USDT\",\n    //         \"Amount\":27.614678000000000000,\n    //         \"TotalBalance\":27.614678000000000000,\n    //         \"Type\":\"deposit\",\n    //         \"Status\":\"confirmed\",\n    //         \"Address\":\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\",\n    //         \"Hash\":\"0x1809f1950c51a2f64fd2c4a27d4b06450fd249883fd91c852b79a99a124837f3\",\n    //         \"Price\":0.0,\n    //         \"OtherAmount\":0.0,\n    //         \"OtherCurrency\":null,\n    //         \"OrderCode\":null,\n    //         \"TradeId\":null,\n    //         \"MovementId\":2732259\n    //     }\n    //\n    const id = this.safeString(transaction, 'MovementId');\n    const amount = this.safeNumber(transaction, 'Amount');\n    const address = this.safeString(transaction, 'Address');\n    const addressTo = address;\n    const addressFrom = undefined;\n    const tag = undefined;\n    const tagTo = tag;\n    const tagFrom = undefined;\n    const txid = this.safeString(transaction, 'Hash');\n    const type = this.safeString(transaction, 'Type');\n    const timestamp = this.parse8601(this.safeString(transaction, 'Date'));\n    const status = this.parseTransactionStatus(this.safeString(transaction, 'Status'));\n    const currencyId = this.safeString(transaction, 'CurrencyCode');\n    const code = this.safeCurrencyCode(currencyId, currency);\n    return {\n      'info': transaction,\n      'id': id,\n      'currency': code,\n      'amount': amount,\n      'address': address,\n      'addressTo': addressTo,\n      'addressFrom': addressFrom,\n      'tag': tag,\n      'tagTo': tagTo,\n      'tagFrom': tagFrom,\n      'status': status,\n      'type': type,\n      'updated': undefined,\n      'txid': txid,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'fee': undefined\n    };\n  }\n\n  async fetchTransactions(code = undefined, since = undefined, limit = undefined, params = {}) {\n    if (code === undefined) {\n      throw new ArgumentsRequired(this.id + ' fetchTransactions() requires a code argument');\n    }\n\n    await this.loadMarkets();\n    const currency = this.currency(code);\n    limit = limit === undefined ? 50 : limit;\n    const request = {\n      'Currency': currency['id'],\n      'TransactionType': 'depositswithdrawals',\n      // deposits, withdrawals, depositswithdrawals, transactions\n      // 'PageIndex': 0,\n      'PageSize': limit,\n      // max 50\n      'SortField': 'Date' // 'Descending': true,\n\n    };\n    const pageIndex = this.safeInteger(params, 'PageIndex');\n\n    if (pageIndex === undefined) {\n      request['Descending'] = true;\n    }\n\n    const response = await this.privatePostListTransactions(this.extend(request, params)); //\n    //     {\n    //         \"TotalElements\":2,\n    //         \"Result\":[\n    //             {\n    //                 \"Date\":\"2020-08-07T12:36:52.72\",\n    //                 \"CurrencyCode\":\"USDT\",\n    //                 \"Amount\":27.614678000000000000,\n    //                 \"TotalBalance\":27.614678000000000000,\n    //                 \"Type\":\"deposit\",\n    //                 \"Status\":\"confirmed\",\n    //                 \"Address\":\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\",\n    //                 \"Hash\":\"0x1809f1950c51a2f64fd2c4a27d4b06450fd249883fd91c852b79a99a124837f3\",\n    //                 \"Price\":0.0,\n    //                 \"OtherAmount\":0.0,\n    //                 \"OtherCurrency\":null,\n    //                 \"OrderCode\":null,\n    //                 \"TradeId\":null,\n    //                 \"MovementId\":2732259\n    //             }\n    //         ]\n    //     }\n    //\n\n    const result = this.safeValue(response, 'Result', []);\n    return this.parseTransactions(result, currency, since, limit);\n  }\n\n  async fetchDeposits(code = undefined, since = undefined, limit = undefined, params = {}) {\n    const request = {\n      'TransactionType': 'deposits'\n    };\n    return await this.fetchTransactions(code, since, limit, this.extend(request, params));\n  }\n\n  async fetchWithdrawals(code = undefined, since = undefined, limit = undefined, params = {}) {\n    const request = {\n      'TransactionType': 'withdrawals'\n    };\n    return await this.fetchTransactions(code, since, limit, this.extend(request, params));\n  }\n\n  nonce() {\n    return this.milliseconds();\n  }\n\n  sign(path, api = 'public', method = 'GET', params = {}, headers = undefined, body = undefined) {\n    const url = this.urls['api'] + '/' + this.implodeParams(path, params);\n    let query = this.omit(params, this.extractParams(path));\n\n    if (api === 'private') {\n      this.checkRequiredCredentials();\n      const nonce = this.nonce();\n      query = this.extend({\n        'key': this.apiKey,\n        'nonce': nonce\n      }, query);\n      body = this.json(query);\n      headers = {\n        'Content-Type': 'application/json',\n        'Hash': this.hmac(this.encode(body), this.encode(this.secret), 'sha512')\n      };\n    }\n\n    return {\n      'url': url,\n      'method': method,\n      'body': body,\n      'headers': headers\n    };\n  }\n\n};","map":{"version":3,"sources":["C:/Users/James Price/Documents/VS Code/bixpro/node_modules/ccxt/js/southxchange.js"],"names":["Exchange","require","ArgumentsRequired","Precise","module","exports","southxchange","describe","deepExtend","fetchMarkets","params","markets","publicGetMarkets","result","i","length","market","baseId","quoteId","base","safeCurrencyCode","quote","symbol","id","push","undefined","precision","limits","fetchBalance","loadMarkets","response","privatePostListBalances","balance","currencyId","safeString","code","deposited","unconfirmed","account","stringAdd","parseBalance","fetchOrderBook","limit","request","marketId","publicGetBookSymbol","extend","parseOrderBook","parseTicker","ticker","timestamp","milliseconds","last","safeNumber","iso8601","fetchTickers","symbols","publicGetPrices","tickers","indexBy","ids","Object","keys","safeMarket","filterByArray","fetchTicker","publicGetPriceSymbol","parseTrade","trade","safeTimestamp","priceString","amountString","price","parseNumber","amount","cost","stringMul","side","fetchTrades","since","publicGetTradesSymbol","parseTrades","parseOrder","order","status","remaining","type","safeStringLower","safeOrder","fetchOpenOrders","privatePostListOrders","parseOrders","createOrder","privatePostPlaceOrder","JSON","parse","cancelOrder","privatePostCancelOrder","createDepositAddress","currency","privatePostGeneratenewaddress","address","parts","split","numParts","checkAddress","tag","withdraw","privatePostWithdraw","parseLedgerEntryType","types","parseLedgerEntry","item","direction","referenceId","safeString2","referenceAccount","ledgerEntryType","after","before","Math","abs","parse8601","fee","fetchLedger","pageIndex","safeInteger","privatePostListTransactions","safeValue","parseLedger","parseTransactionStatus","statuses","parseTransaction","transaction","addressTo","addressFrom","tagTo","tagFrom","txid","fetchTransactions","parseTransactions","fetchDeposits","fetchWithdrawals","nonce","sign","path","api","method","headers","body","url","urls","implodeParams","query","omit","extractParams","checkRequiredCredentials","apiKey","json","hmac","encode","secret"],"mappings":"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jC,MAAtB,CAAlC,CAAvB,CAnBoF,CAoBpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,UAAMG,MAAM,GAAG,KAAKmH,SAAL,CAAgBlG,QAAhB,EAA0B,QAA1B,EAAoC,EAApC,CAAf;AACA,WAAO,KAAKmG,WAAL,CAAkBpH,MAAlB,EAA0BsF,QAA1B,EAAoCpB,KAApC,EAA2CrC,KAA3C,CAAP;AACH;;AAEDwF,EAAAA,sBAAsB,CAAE9C,MAAF,EAAU;AAC5B,UAAM+C,QAAQ,GAAG;AACb,iBAAW,SADE;AAEb,mBAAa,SAFA;AAGb,mBAAa;AAHA,KAAjB;AAKA,WAAO,KAAKjG,UAAL,CAAiBiG,QAAjB,EAA2B/C,MAA3B,EAAmCA,MAAnC,CAAP;AACH;;AAEDgD,EAAAA,gBAAgB,CAAEC,WAAF,EAAelC,QAAQ,GAAG1E,SAA1B,EAAqC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAMF,EAAE,GAAG,KAAKW,UAAL,CAAiBmG,WAAjB,EAA8B,YAA9B,CAAX;AACA,UAAM3D,MAAM,GAAG,KAAKrB,UAAL,CAAiBgF,WAAjB,EAA8B,QAA9B,CAAf;AACA,UAAMhC,OAAO,GAAG,KAAKnE,UAAL,CAAiBmG,WAAjB,EAA8B,SAA9B,CAAhB;AACA,UAAMC,SAAS,GAAGjC,OAAlB;AACA,UAAMkC,WAAW,GAAG9G,SAApB;AACA,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","sourcesContent":["'use strict';\n\n//  ---------------------------------------------------------------------------\n\nconst Exchange = require ('./base/Exchange');\nconst { ArgumentsRequired } = require ('./base/errors');\nconst Precise = require ('./base/Precise');\n\n//  ---------------------------------------------------------------------------\n\nmodule.exports = class southxchange extends Exchange {\n    describe () {\n        return this.deepExtend (super.describe (), {\n            'id': 'southxchange',\n            'name': 'SouthXchange',\n            'countries': [ 'AR' ], // Argentina\n            'rateLimit': 1000,\n            'has': {\n                'cancelOrder': true,\n                'CORS': true,\n                'createDepositAddress': true,\n                'createOrder': true,\n                'fetchBalance': true,\n                'fetchDeposits': true,\n                'fetchLedger': true,\n                'fetchMarkets': true,\n                'fetchOpenOrders': true,\n                'fetchOrderBook': true,\n                'fetchTicker': true,\n                'fetchTickers': true,\n                'fetchTrades': true,\n                'fetchTransactions': true,\n                'fetchWithdrawals': true,\n                'withdraw': true,\n            },\n            'urls': {\n                'logo': 'https://user-images.githubusercontent.com/1294454/27838912-4f94ec8a-60f6-11e7-9e5d-bbf9bd50a559.jpg',\n                'api': 'https://www.southxchange.com/api',\n                'www': 'https://www.southxchange.com',\n                'doc': 'https://www.southxchange.com/Home/Api',\n            },\n            'api': {\n                'public': {\n                    'get': [\n                        'markets',\n                        'price/{symbol}',\n                        'prices',\n                        'book/{symbol}',\n                        'trades/{symbol}',\n                    ],\n                },\n                'private': {\n                    'post': [\n                        'cancelMarketOrders',\n                        'cancelOrder',\n                        'getOrder',\n                        'generatenewaddress',\n                        'listOrders',\n                        'listBalances',\n                        'listTransactions',\n                        'placeOrder',\n                        'withdraw',\n                    ],\n                },\n            },\n            'fees': {\n                'trading': {\n                    'tierBased': false,\n                    'percentage': true,\n                    'maker': 0.1 / 100,\n                    'taker': 0.3 / 100,\n                },\n            },\n            'commonCurrencies': {\n                'BHD': 'Bithold',\n                'GHOST': 'GHOSTPRISM',\n                'MTC': 'Marinecoin',\n                'SMT': 'SmartNode',\n            },\n        });\n    }\n\n    async fetchMarkets (params = {}) {\n        const markets = await this.publicGetMarkets (params);\n        const result = [];\n        for (let i = 0; i < markets.length; i++) {\n            const market = markets[i];\n            const baseId = market[0];\n            const quoteId = market[1];\n            const base = this.safeCurrencyCode (baseId);\n            const quote = this.safeCurrencyCode (quoteId);\n            const symbol = base + '/' + quote;\n            const id = baseId + '/' + quoteId;\n            result.push ({\n                'id': id,\n                'symbol': symbol,\n                'base': base,\n                'quote': quote,\n                'baseId': baseId,\n                'quoteId': quoteId,\n                'active': undefined,\n                'info': market,\n                'precision': this.precision,\n                'limits': this.limits,\n            });\n        }\n        return result;\n    }\n\n    async fetchBalance (params = {}) {\n        await this.loadMarkets ();\n        const response = await this.privatePostListBalances (params);\n        const result = { 'info': response };\n        for (let i = 0; i < response.length; i++) {\n            const balance = response[i];\n            const currencyId = this.safeString (balance, 'Currency');\n            const code = this.safeCurrencyCode (currencyId);\n            const deposited = this.safeString (balance, 'Deposited');\n            const unconfirmed = this.safeString (balance, 'Unconfirmed');\n            const account = this.account ();\n            account['free'] = this.safeString (balance, 'Available');\n            account['total'] = Precise.stringAdd (deposited, unconfirmed);\n            result[code] = account;\n        }\n        return this.parseBalance (result, false);\n    }\n\n    async fetchOrderBook (symbol, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {\n            'symbol': this.marketId (symbol),\n        };\n        const response = await this.publicGetBookSymbol (this.extend (request, params));\n        return this.parseOrderBook (response, symbol, undefined, 'BuyOrders', 'SellOrders', 'Price', 'Amount');\n    }\n\n    parseTicker (ticker, market = undefined) {\n        const timestamp = this.milliseconds ();\n        let symbol = undefined;\n        if (market) {\n            symbol = market['symbol'];\n        }\n        const last = this.safeNumber (ticker, 'Last');\n        return {\n            'symbol': symbol,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'high': undefined,\n            'low': undefined,\n            'bid': this.safeNumber (ticker, 'Bid'),\n            'bidVolume': undefined,\n            'ask': this.safeNumber (ticker, 'Ask'),\n            'askVolume': undefined,\n            'vwap': undefined,\n            'open': undefined,\n            'close': last,\n            'last': last,\n            'previousClose': undefined,\n            'change': undefined,\n            'percentage': this.safeNumber (ticker, 'Variation24Hr'),\n            'average': undefined,\n            'baseVolume': this.safeNumber (ticker, 'Volume24Hr'),\n            'quoteVolume': undefined,\n            'info': ticker,\n        };\n    }\n\n    async fetchTickers (symbols = undefined, params = {}) {\n        await this.loadMarkets ();\n        const response = await this.publicGetPrices (params);\n        const tickers = this.indexBy (response, 'Market');\n        const ids = Object.keys (tickers);\n        const result = {};\n        for (let i = 0; i < ids.length; i++) {\n            const id = ids[i];\n            const market = this.safeMarket (id);\n            const symbol = market['symbol'];\n            const ticker = tickers[id];\n            result[symbol] = this.parseTicker (ticker, market);\n        }\n        return this.filterByArray (result, 'symbol', symbols);\n    }\n\n    async fetchTicker (symbol, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'symbol': market['id'],\n        };\n        const response = await this.publicGetPriceSymbol (this.extend (request, params));\n        return this.parseTicker (response, market);\n    }\n\n    parseTrade (trade, market) {\n        const timestamp = this.safeTimestamp (trade, 'At');\n        const priceString = this.safeString (trade, 'Price');\n        const amountString = this.safeString (trade, 'Amount');\n        const price = this.parseNumber (priceString);\n        const amount = this.parseNumber (amountString);\n        const cost = this.parseNumber (Precise.stringMul (priceString, amountString));\n        const side = this.safeString (trade, 'Type');\n        let symbol = undefined;\n        if (market !== undefined) {\n            symbol = market['symbol'];\n        }\n        return {\n            'info': trade,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'symbol': symbol,\n            'id': undefined,\n            'order': undefined,\n            'type': undefined,\n            'side': side,\n            'price': price,\n            'takerOrMaker': undefined,\n            'amount': amount,\n            'cost': cost,\n            'fee': undefined,\n        };\n    }\n\n    async fetchTrades (symbol, since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'symbol': market['id'],\n        };\n        const response = await this.publicGetTradesSymbol (this.extend (request, params));\n        return this.parseTrades (response, market, since, limit);\n    }\n\n    parseOrder (order, market = undefined) {\n        const status = 'open';\n        const baseId = this.safeString (order, 'ListingCurrency');\n        const quoteId = this.safeString (order, 'ReferenceCurrency');\n        const base = this.safeCurrencyCode (baseId);\n        const quote = this.safeCurrencyCode (quoteId);\n        const symbol = base + '/' + quote;\n        const timestamp = undefined;\n        const price = this.safeNumber (order, 'LimitPrice');\n        const amount = this.safeNumber (order, 'OriginalAmount');\n        const remaining = this.safeNumber (order, 'Amount');\n        const type = 'limit';\n        const side = this.safeStringLower (order, 'Type');\n        const id = this.safeString (order, 'Code');\n        return this.safeOrder ({\n            'info': order,\n            'id': id,\n            'clientOrderId': undefined,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'lastTradeTimestamp': undefined,\n            'symbol': symbol,\n            'type': type,\n            'timeInForce': undefined,\n            'postOnly': undefined,\n            'side': side,\n            'price': price,\n            'stopPrice': undefined,\n            'amount': amount,\n            'cost': undefined,\n            'filled': undefined,\n            'remaining': remaining,\n            'status': status,\n            'fee': undefined,\n            'average': undefined,\n            'trades': undefined,\n        });\n    }\n\n    async fetchOpenOrders (symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        let market = undefined;\n        if (symbol !== undefined) {\n            market = this.market (symbol);\n        }\n        const response = await this.privatePostListOrders (params);\n        return this.parseOrders (response, market, since, limit);\n    }\n\n    async createOrder (symbol, type, side, amount, price = undefined, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'listingCurrency': market['base'],\n            'referenceCurrency': market['quote'],\n            'type': side,\n            'amount': amount,\n        };\n        if (type === 'limit') {\n            request['limitPrice'] = price;\n        }\n        const response = await this.privatePostPlaceOrder (this.extend (request, params));\n        const id = JSON.parse (response);\n        return {\n            'info': response,\n            'id': id,\n        };\n    }\n\n    async cancelOrder (id, symbol = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {\n            'orderCode': id,\n        };\n        return await this.privatePostCancelOrder (this.extend (request, params));\n    }\n\n    async createDepositAddress (code, params = {}) {\n        await this.loadMarkets ();\n        const currency = this.currency (code);\n        const request = {\n            'currency': currency['id'],\n        };\n        const response = await this.privatePostGeneratenewaddress (this.extend (request, params));\n        //\n        // the exchange API returns a quoted-quoted-string\n        //\n        //     \"\\\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\\\"\"\n        //\n        let address = response;\n        if (address[0] === '\"') {\n            address = JSON.parse (address);\n            if (address[0] === '\"') {\n                address = JSON.parse (address);\n            }\n        }\n        const parts = address.split ('|');\n        const numParts = parts.length;\n        address = parts[0];\n        this.checkAddress (address);\n        let tag = undefined;\n        if (numParts > 1) {\n            tag = parts[1];\n        }\n        return {\n            'currency': code,\n            'address': address,\n            'tag': tag,\n            'info': response,\n        };\n    }\n\n    async withdraw (code, amount, address, tag = undefined, params = {}) {\n        this.checkAddress (address);\n        await this.loadMarkets ();\n        const currency = this.currency (code);\n        const request = {\n            'currency': currency['id'],\n            'address': address,\n            'amount': amount,\n        };\n        if (tag !== undefined) {\n            request['address'] = address + '|' + tag;\n        }\n        const response = await this.privatePostWithdraw (this.extend (request, params));\n        return {\n            'info': response,\n            'id': undefined,\n        };\n    }\n\n    parseLedgerEntryType (type) {\n        const types = {\n            'trade': 'trade',\n            'tradefee': 'fee',\n            'withdraw': 'transaction',\n            'deposit': 'transaction',\n        };\n        return this.safeString (types, type, type);\n    }\n\n    parseLedgerEntry (item, currency = undefined) {\n        //\n        //     {\n        //         \"Date\":\"2020-08-07T12:36:52.72\",\n        //         \"CurrencyCode\":\"USDT\",\n        //         \"Amount\":27.614678000000000000,\n        //         \"TotalBalance\":27.614678000000000000,\n        //         \"Type\":\"deposit\",\n        //         \"Status\":\"confirmed\",\n        //         \"Address\":\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\",\n        //         \"Hash\":\"0x1809f1950c51a2f64fd2c4a27d4b06450fd249883fd91c852b79a99a124837f3\",\n        //         \"Price\":0.0,\n        //         \"OtherAmount\":0.0,\n        //         \"OtherCurrency\":null,\n        //         \"OrderCode\":null,\n        //         \"TradeId\":null,\n        //         \"MovementId\":2732259\n        //     }\n        //\n        const id = this.safeString (item, 'MovementId');\n        let direction = undefined;\n        const account = undefined;\n        let referenceId = this.safeString2 (item, 'TradeId', 'OrderCode');\n        referenceId = this.safeString (item, 'Hash', referenceId);\n        const referenceAccount = this.safeString (item, 'Address');\n        const type = this.safeString (item, 'Type');\n        const ledgerEntryType = this.parseLedgerEntryType (type);\n        const code = this.safeCurrencyCode (this.safeString (item, 'CurrencyCode'), currency);\n        let amount = this.safeNumber (item, 'Amount');\n        const after = this.safeNumber (item, 'TotalBalance');\n        let before = undefined;\n        if (amount !== undefined) {\n            if (after !== undefined) {\n                before = after - amount;\n            }\n            if (type === 'withdrawal') {\n                direction = 'out';\n            } else if (type === 'deposit') {\n                direction = 'in';\n            } else if ((type === 'trade') || (type === 'tradefee')) {\n                direction = (amount < 0) ? 'out' : 'in';\n                amount = Math.abs (amount);\n            }\n        }\n        const timestamp = this.parse8601 (this.safeString (item, 'Date'));\n        const fee = undefined;\n        const status = this.safeString (item, 'Status');\n        return {\n            'info': item,\n            'id': id,\n            'direction': direction,\n            'account': account,\n            'referenceId': referenceId,\n            'referenceAccount': referenceAccount,\n            'type': ledgerEntryType,\n            'currency': code,\n            'amount': amount,\n            'before': before,\n            'after': after,\n            'status': status,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'fee': fee,\n        };\n    }\n\n    async fetchLedger (code = undefined, since = undefined, limit = undefined, params = {}) {\n        if (code === undefined) {\n            throw new ArgumentsRequired (this.id + ' fetchLedger() requires a code argument');\n        }\n        await this.loadMarkets ();\n        const currency = this.currency (code);\n        limit = (limit === undefined) ? 50 : limit;\n        const request = {\n            'Currency': currency['id'],\n            // 'TransactionType': 'transactions', // deposits, withdrawals, depositswithdrawals, transactions\n            // 'PageIndex': 0,\n            'PageSize': limit, // max 50\n            'SortField': 'Date',\n            // 'Descending': true,\n        };\n        const pageIndex = this.safeInteger (params, 'PageIndex');\n        if (pageIndex === undefined) {\n            request['Descending'] = true;\n        }\n        const response = await this.privatePostListTransactions (this.extend (request, params));\n        //\n        // fetchLedger ('BTC')\n        //\n        //     {\n        //         \"TotalElements\":2,\n        //         \"Result\":[\n        //             {\n        //                 \"Date\":\"2020-08-07T13:06:22.117\",\n        //                 \"CurrencyCode\":\"BTC\",\n        //                 \"Amount\":-0.000000301000000000,\n        //                 \"TotalBalance\":0.000100099000000000,\n        //                 \"Type\":\"tradefee\",\n        //                 \"Status\":\"confirmed\",\n        //                 \"Address\":null,\n        //                 \"Hash\":null,\n        //                 \"Price\":0.0,\n        //                 \"OtherAmount\":0.0,\n        //                 \"OtherCurrency\":null,\n        //                 \"OrderCode\":null,\n        //                 \"TradeId\":5298215,\n        //                 \"MovementId\":null\n        //             },\n        //             {\n        //                 \"Date\":\"2020-08-07T13:06:22.117\",\n        //                 \"CurrencyCode\":\"BTC\",\n        //                 \"Amount\":0.000100400000000000,\n        //                 \"TotalBalance\":0.000100400000000000,\n        //                 \"Type\":\"trade\",\n        //                 \"Status\":\"confirmed\",\n        //                 \"Address\":null,\n        //                 \"Hash\":null,\n        //                 \"Price\":11811.474849000000000000,\n        //                 \"OtherAmount\":1.185872,\n        //                 \"OtherCurrency\":\"USDT\",\n        //                 \"OrderCode\":\"78389610\",\n        //                 \"TradeId\":5298215,\n        //                 \"MovementId\":null\n        //             }\n        //         ]\n        //     }\n        //\n        // fetchLedger ('BTC'), same trade, other side\n        //\n        //     {\n        //         \"TotalElements\":2,\n        //         \"Result\":[\n        //             {\n        //                 \"Date\":\"2020-08-07T13:06:22.133\",\n        //                 \"CurrencyCode\":\"USDT\",\n        //                 \"Amount\":-1.185872000000000000,\n        //                 \"TotalBalance\":26.428806000000000000,\n        //                 \"Type\":\"trade\",\n        //                 \"Status\":\"confirmed\",\n        //                 \"Address\":null,\n        //                 \"Hash\":null,\n        //                 \"Price\":11811.474849000000000000,\n        //                 \"OtherAmount\":0.000100400,\n        //                 \"OtherCurrency\":\"BTC\",\n        //                 \"OrderCode\":\"78389610\",\n        //                 \"TradeId\":5298215,\n        //                 \"MovementId\":null\n        //             },\n        //             {\n        //                 \"Date\":\"2020-08-07T12:36:52.72\",\n        //                 \"CurrencyCode\":\"USDT\",\n        //                 \"Amount\":27.614678000000000000,\n        //                 \"TotalBalance\":27.614678000000000000,\n        //                 \"Type\":\"deposit\",\n        //                 \"Status\":\"confirmed\",\n        //                 \"Address\":\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\",\n        //                 \"Hash\":\"0x1809f1950c51a2f64fd2c4a27d4b06450fd249883fd91c852b79a99a124837f3\",\n        //                 \"Price\":0.0,\n        //                 \"OtherAmount\":0.0,\n        //                 \"OtherCurrency\":null,\n        //                 \"OrderCode\":null,\n        //                 \"TradeId\":null,\n        //                 \"MovementId\":2732259\n        //             }\n        //         ]\n        //     }\n        //\n        const result = this.safeValue (response, 'Result', []);\n        return this.parseLedger (result, currency, since, limit);\n    }\n\n    parseTransactionStatus (status) {\n        const statuses = {\n            'pending': 'pending',\n            'processed': 'pending',\n            'confirmed': 'ok',\n        };\n        return this.safeString (statuses, status, status);\n    }\n\n    parseTransaction (transaction, currency = undefined) {\n        //\n        //     {\n        //         \"Date\":\"2020-08-07T12:36:52.72\",\n        //         \"CurrencyCode\":\"USDT\",\n        //         \"Amount\":27.614678000000000000,\n        //         \"TotalBalance\":27.614678000000000000,\n        //         \"Type\":\"deposit\",\n        //         \"Status\":\"confirmed\",\n        //         \"Address\":\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\",\n        //         \"Hash\":\"0x1809f1950c51a2f64fd2c4a27d4b06450fd249883fd91c852b79a99a124837f3\",\n        //         \"Price\":0.0,\n        //         \"OtherAmount\":0.0,\n        //         \"OtherCurrency\":null,\n        //         \"OrderCode\":null,\n        //         \"TradeId\":null,\n        //         \"MovementId\":2732259\n        //     }\n        //\n        const id = this.safeString (transaction, 'MovementId');\n        const amount = this.safeNumber (transaction, 'Amount');\n        const address = this.safeString (transaction, 'Address');\n        const addressTo = address;\n        const addressFrom = undefined;\n        const tag = undefined;\n        const tagTo = tag;\n        const tagFrom = undefined;\n        const txid = this.safeString (transaction, 'Hash');\n        const type = this.safeString (transaction, 'Type');\n        const timestamp = this.parse8601 (this.safeString (transaction, 'Date'));\n        const status = this.parseTransactionStatus (this.safeString (transaction, 'Status'));\n        const currencyId = this.safeString (transaction, 'CurrencyCode');\n        const code = this.safeCurrencyCode (currencyId, currency);\n        return {\n            'info': transaction,\n            'id': id,\n            'currency': code,\n            'amount': amount,\n            'address': address,\n            'addressTo': addressTo,\n            'addressFrom': addressFrom,\n            'tag': tag,\n            'tagTo': tagTo,\n            'tagFrom': tagFrom,\n            'status': status,\n            'type': type,\n            'updated': undefined,\n            'txid': txid,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'fee': undefined,\n        };\n    }\n\n    async fetchTransactions (code = undefined, since = undefined, limit = undefined, params = {}) {\n        if (code === undefined) {\n            throw new ArgumentsRequired (this.id + ' fetchTransactions() requires a code argument');\n        }\n        await this.loadMarkets ();\n        const currency = this.currency (code);\n        limit = (limit === undefined) ? 50 : limit;\n        const request = {\n            'Currency': currency['id'],\n            'TransactionType': 'depositswithdrawals', // deposits, withdrawals, depositswithdrawals, transactions\n            // 'PageIndex': 0,\n            'PageSize': limit, // max 50\n            'SortField': 'Date',\n            // 'Descending': true,\n        };\n        const pageIndex = this.safeInteger (params, 'PageIndex');\n        if (pageIndex === undefined) {\n            request['Descending'] = true;\n        }\n        const response = await this.privatePostListTransactions (this.extend (request, params));\n        //\n        //     {\n        //         \"TotalElements\":2,\n        //         \"Result\":[\n        //             {\n        //                 \"Date\":\"2020-08-07T12:36:52.72\",\n        //                 \"CurrencyCode\":\"USDT\",\n        //                 \"Amount\":27.614678000000000000,\n        //                 \"TotalBalance\":27.614678000000000000,\n        //                 \"Type\":\"deposit\",\n        //                 \"Status\":\"confirmed\",\n        //                 \"Address\":\"0x4d43674209fcb66cc21469a6e5e52de7dd5bcd93\",\n        //                 \"Hash\":\"0x1809f1950c51a2f64fd2c4a27d4b06450fd249883fd91c852b79a99a124837f3\",\n        //                 \"Price\":0.0,\n        //                 \"OtherAmount\":0.0,\n        //                 \"OtherCurrency\":null,\n        //                 \"OrderCode\":null,\n        //                 \"TradeId\":null,\n        //                 \"MovementId\":2732259\n        //             }\n        //         ]\n        //     }\n        //\n        const result = this.safeValue (response, 'Result', []);\n        return this.parseTransactions (result, currency, since, limit);\n    }\n\n    async fetchDeposits (code = undefined, since = undefined, limit = undefined, params = {}) {\n        const request = {\n            'TransactionType': 'deposits',\n        };\n        return await this.fetchTransactions (code, since, limit, this.extend (request, params));\n    }\n\n    async fetchWithdrawals (code = undefined, since = undefined, limit = undefined, params = {}) {\n        const request = {\n            'TransactionType': 'withdrawals',\n        };\n        return await this.fetchTransactions (code, since, limit, this.extend (request, params));\n    }\n\n    nonce () {\n        return this.milliseconds ();\n    }\n\n    sign (path, api = 'public', method = 'GET', params = {}, headers = undefined, body = undefined) {\n        const url = this.urls['api'] + '/' + this.implodeParams (path, params);\n        let query = this.omit (params, this.extractParams (path));\n        if (api === 'private') {\n            this.checkRequiredCredentials ();\n            const nonce = this.nonce ();\n            query = this.extend ({\n                'key': this.apiKey,\n                'nonce': nonce,\n            }, query);\n            body = this.json (query);\n            headers = {\n                'Content-Type': 'application/json',\n                'Hash': this.hmac (this.encode (body), this.encode (this.secret), 'sha512'),\n            };\n        }\n        return { 'url': url, 'method': method, 'body': body, 'headers': headers };\n    }\n};\n"]},"metadata":{},"sourceType":"script"}