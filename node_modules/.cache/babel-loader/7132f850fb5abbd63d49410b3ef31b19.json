{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/James Price/Documents/VS Code/bixpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createRef,useState,useEffect}from'react';import{Row,Col,Button,Form,Modal}from'react-bootstrap';import{ValidationForm,TextInput}from'react-bootstrap4-form-validation';import axios from'../../utils/axios';var ModalToDo=function ModalToDo(props){var formRef=/*#__PURE__*/createRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newNote=_useState2[0],setNewNote=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),modalTodo=_useState4[0],setModalTodo=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isBasic=_useState6[0],setIsBasic=_useState6[1];var _ref=props.todoList?props:[],todoList=_ref.todoList;useEffect(function(){setModalTodo(todoList);},[todoList]);var completeHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,key){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/api/todo/modal/complete',{key:key,complete:e.target.checked}).then(function(response){setModalTodo(response.data.modalTodo);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function completeHandler(_x,_x2){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(e){setNewNote(e.target.value);};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e,formData,inputs){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return axios.post('/api/todo/modal/add',{note:newNote}).then(function(response){resetForm();setModalTodo(response.data.modalTodo);setNewNote('');});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x3,_x4,_x5){return _ref3.apply(this,arguments);};}();var resetForm=function resetForm(){formRef.current.resetValidationState(true);};var handleErrorSubmit=function handleErrorSubmit(e,formData,errorInputs){//console.log(errorInputs);\n};var deleteHandler=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(key){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post('/api/todo/modal/delete',{key:key}).then(function(response){setModalTodo(response.data.modalTodo);});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteHandler(_x6){return _ref4.apply(this,arguments);};}();var todoListHtml=modalTodo.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"to-do-list mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-inline-block\",children:/*#__PURE__*/_jsxs(\"label\",{className:[item.complete?'done-task':'','check-task custom-control custom-checkbox d-flex justify-content-center'].join(' '),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck2\",defaultChecked:item.complete,onChange:function onChange(e){return completeHandler(e,index);}}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-control-label\",children:item.note})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#!\",className:\"delete_todolist\",onClick:function onClick(){return deleteHandler(index);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash-alt\"})})})]})},index);});return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"new-task\",children:todoListHtml}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return setIsBasic(true);},children:\"ADD NEW TASK\"}),/*#__PURE__*/_jsx(Modal,{show:isBasic,onHide:function onHide(){return setIsBasic(false);},children:/*#__PURE__*/_jsxs(ValidationForm,{ref:formRef,onSubmit:handleSubmit,onErrorSubmit:handleErrorSubmit,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{as:\"h5\",children:\"Add New Todo\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsx(Form.Group,{as:Col,children:/*#__PURE__*/_jsx(TextInput,{name:\"newNoteModal\",id:\"newNoteModal\",placeholder:\"Create your task list\",required:true,value:newNote,onChange:handleChange,autoComplete:\"off\"})})})}),/*#__PURE__*/_jsxs(Modal.Footer,{className:\"p-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",onClick:function onClick(){return setIsBasic(false);},children:\"Save\"}),/*#__PURE__*/_jsx(Button,{variant:\"light\",onClick:function onClick(){return setIsBasic(false);},children:\"Close\"})]})]})})]})})});};export default ModalToDo;","map":{"version":3,"sources":["C:/Users/James Price/Documents/VS Code/bixpro/src/components/To-Do/ModalToDo.js"],"names":["React","createRef","useState","useEffect","Row","Col","Button","Form","Modal","ValidationForm","TextInput","axios","ModalToDo","props","formRef","newNote","setNewNote","modalTodo","setModalTodo","isBasic","setIsBasic","todoList","completeHandler","e","key","post","complete","target","checked","then","response","data","handleChange","value","handleSubmit","formData","inputs","preventDefault","note","resetForm","current","resetValidationState","handleErrorSubmit","errorInputs","deleteHandler","todoListHtml","map","item","index","join"],"mappings":"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","sourcesContent":["import React, { createRef, useState, useEffect } from 'react';\r\nimport { Row, Col, Button, Form, Modal } from 'react-bootstrap';\r\nimport { ValidationForm, TextInput } from 'react-bootstrap4-form-validation';\r\nimport axios from '../../utils/axios';\r\n\r\nconst ModalToDo = props => {\r\n    const formRef = createRef();\r\n    const [newNote, setNewNote] = useState('');\r\n    const [modalTodo, setModalTodo] = useState([]);\r\n    const [isBasic, setIsBasic] = useState(false);\r\n\r\n    const { todoList } = (props.todoList) ? props : [];\r\n\r\n    useEffect(() => {\r\n        setModalTodo(todoList);\r\n    }, [todoList]);\r\n\r\n    const completeHandler = async (e, key) => {\r\n        await axios.post('/api/todo/modal/complete', {\r\n            key: key,\r\n            complete: e.target.checked\r\n        }).then(response => {\r\n            setModalTodo(response.data.modalTodo);\r\n        });\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setNewNote(e.target.value);\r\n    };\r\n\r\n    const handleSubmit = async (e, formData, inputs) => {\r\n        e.preventDefault();\r\n\r\n        await axios.post('/api/todo/modal/add', {\r\n            note: newNote\r\n        }).then(response => {\r\n            resetForm();\r\n            setModalTodo(response.data.modalTodo);\r\n            setNewNote('');\r\n        });\r\n    };\r\n\r\n    const resetForm = () => {\r\n        (formRef.current).resetValidationState(true);\r\n    };\r\n\r\n    const handleErrorSubmit = (e, formData, errorInputs) => {\r\n        //console.log(errorInputs);\r\n    };\r\n\r\n    const deleteHandler = async key => {\r\n        await axios.post('/api/todo/modal/delete', {\r\n            key: key\r\n        }).then(response => {\r\n            setModalTodo(response.data.modalTodo);\r\n        });\r\n    };\r\n\r\n    const todoListHtml = modalTodo.map((item, index) => {\r\n        return (\r\n            <div key={index}>\r\n                <div className=\"to-do-list mb-3\">\r\n                    <div className=\"d-inline-block\">\r\n                        <label className={[item.complete ? 'done-task' : '', 'check-task custom-control custom-checkbox d-flex justify-content-center'].join(' ')} >\r\n                            <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck2\" defaultChecked={item.complete} onChange={(e) => completeHandler(e, index)} />\r\n                                <span className=\"custom-control-label\">{item.note}</span>\r\n                        </label>\r\n                    </div>\r\n                    <div className=\"float-right\"><a href=\"#!\" className=\"delete_todolist\" onClick={() => deleteHandler(index)}><i className=\"fa fa-trash-alt\"/></a></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Row>\r\n                <Col>\r\n                    <div className=\"new-task\">\r\n                        {todoListHtml}\r\n                    </div>\r\n                    <Button variant=\"primary\" onClick={() => setIsBasic(true)}>ADD NEW TASK</Button>\r\n                    <Modal show={isBasic} onHide={() => setIsBasic(false)}>\r\n                        <ValidationForm ref={formRef} onSubmit={handleSubmit} onErrorSubmit={handleErrorSubmit}>\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title as=\"h5\">Add New Todo</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                <Form.Row>\r\n                                    <Form.Group as={Col}>\r\n                                        <TextInput\r\n                                            name=\"newNoteModal\"\r\n                                            id=\"newNoteModal\"\r\n                                            placeholder=\"Create your task list\"\r\n                                            required\r\n                                            value={newNote}\r\n                                            onChange={handleChange}\r\n                                            autoComplete=\"off\"\r\n                                        />\r\n                                    </Form.Group>\r\n                                </Form.Row>\r\n                            </Modal.Body>\r\n                            <Modal.Footer className='p-3'>\r\n                                <Button variant=\"primary\" type=\"submit\" onClick={() => setIsBasic(false)}>Save</Button>\r\n                                <Button variant=\"light\" onClick={() => setIsBasic(false)}>Close</Button>\r\n                            </Modal.Footer>\r\n                        </ValidationForm>\r\n                    </Modal>\r\n                </Col>\r\n            </Row>\r\n        </React.Fragment>\r\n    );\r\n}\r\nexport default ModalToDo;"]},"metadata":{},"sourceType":"module"}